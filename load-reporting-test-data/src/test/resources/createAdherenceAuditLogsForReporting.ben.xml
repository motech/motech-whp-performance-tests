<?xml version="1.0" encoding="iso-8859-1"?>
<setup
        xmlns="http://databene.org/benerator/0.7.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://databene.org/benerator/0.7.0 http://databene.org/benerator-0.7.0.xsd">

    <import platforms="db"/>

    <comment>setting default values</comment>
    <setting name="stage" default="development"/>
    <setting name="database" default="whp"/>
    <setting name="dbCatalog" default="whp"/>
    <setting name="dbSchema" default="whp_reports"/>
    <setting name="dbPassword" default="p@ssw0rd"/>
    <setting name="dbBatch" default="false"/>
    <setting name="provider_count" default="5"/>
    <setting name="patient_count" default="5"/>

    <include uri="{ftl:reports.ben.properties}"/>

    <database id="db" url="{dbUrl}" driver="{dbDriver}" catalog="{dbCatalog}" schema="{dbSchema}"
              user="{dbUser}" password="{dbPassword}" batch="{dbBatch}" acceptUnknownColumnTypes="true"/>

    <generate type='adherence_audit_log' count='10' consumer='db'>
        <variable name='district' type='string'
                  values="'Begusarai','East Champaran','Jehanabad','Khagaria','Muzaffarpur','Nalanda', 'Bengaluru', 'Patna', 'Samastipur', 'Arwal'"/>

        <attribute name='provider_id' type="string" script="district.substring(0, 3) + '0010'" converter="ToLowerCaseConverter, UniqueStringConverter"/>

        <variable name="randomNumber" type="long"  min="1000" max="3000"/>
        <attribute name="patient_id" script="{'' + randomNumber}" type="string"/>

        <attribute name='tb_id' type="string" pattern="[1-9]{10}"/>

        <attribute name='creation_time' type='timestamp' min="2013-01-21 10:34:43" max="2013-05-21 10:34:43"/>

        <attribute name='dose_date' type='date'
                   constant="2012-12-25"/>
        <attribute name='user_id' type='string' script="adherence_audit_log.provider_id"/>
        <attribute name='doses_taken' type='int' min="0" max="3"/>
        <attribute name='pill_status' type="string" values="'Not_Taken', 'Taken', 'Unknown'"/>
        <attribute name='channel' type='string' values="'IVR', 'WEB'"/>
        <attribute name='is_given_by_provider' type='string' values="'Y', 'N'"/>
    </generate>
</setup>



